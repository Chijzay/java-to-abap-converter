<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b5fff" />
  <title>Java to ABAP converter</title>

  <!-- Optional: API Base zentral konfigurierbar (JS liest das) -->
  <meta name="api-base" content="https://scattered-lebbie-steven-illg-it-f8b8abdf.koyeb.app" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css">
</head>

<body>
  <main class="wrap">
    <header class="header">
      <div class="title">
        <h1 class="brand">
          <span class="brand-main">Java</span>
          <span class="brand-sep">→</span>
          <span class="brand-accent">ABAP</span>
          <span class="brand-sub">converter</span>
        </h1>
        <p class="sub">Übersetzt Java-Code in ein ABAP-Grundgerüst (oder einzelne Statements als Snippet).</p>
      </div>

      <div class="controls">
        <div class="segmented" role="tablist" aria-label="Übersetzungsmodus">
          <input type="radio" name="mode" id="mode-auto" value="auto" checked>
          <label for="mode-auto">Auto</label>

          <input type="radio" name="mode" id="mode-snippet" value="snippet">
          <label for="mode-snippet">Snippet</label>

          <input type="radio" name="mode" id="mode-class" value="class">
          <label for="mode-class">Class</label>
        </div>

        <button id="translate" class="btn primary" type="button" title="Ctrl+Enter">Übersetzen</button>
        <button id="copy" class="btn" type="button" disabled>ABAP kopieren</button>
        <button id="download" class="btn" type="button" disabled>Download .abap</button>
      </div>
    </header>

    <!-- Grid kommt auf Mobile vor die Info-Box (CSS order) -->
    <section class="grid">
      <section class="panel">
        <div class="panel-head">
          <h2>Java</h2>
        </div>

        <div class="editor" data-lang="java">
          <div class="gutter" id="inGutter" aria-hidden="true"></div>
          <textarea id="in" spellcheck="false"></textarea>
          <pre class="code"><code id="inHL" class="language-java"></code></pre>
        </div>
      </section>

      <section class="panel">
        <div class="panel-head">
          <h2>ABAP</h2>
        </div>

        <div class="editor readonly" data-lang="abap">
          <div class="gutter" id="outGutter" aria-hidden="true"></div>
          <textarea id="out" spellcheck="false" readonly></textarea>
          <pre class="code"><code id="outHL" class="language-abap"></code></pre>
        </div>
      </section>
    </section>

    <section class="info">
      <div class="info-left">
        <strong>Infobox:</strong>
        <span>
          Dieser Konverter übersetzt eine Teilmenge von Java-Code und erzeugt ein ABAP-Grundgerüst. Dabei werden einfache, semantisch nahe Konstrukte
          (z.&nbsp;B. Variablen, Zuweisungen, <code>if/else</code>, <code>return</code>, <code>System.out.println</code>) abgebildet.
          Inhalte ohne direkte Entsprechung werden als <code>TODO</code> gekennzeichnet, damit sie gezielt nachbearbeitet werden können.
          Eine vollständige Java→ABAP-Konvertierung ist aufgrund technischer Unterschiede zwischen den Sprachen nicht möglich.
        </span>
        
        <span class="hint">Tipp: Übersetzen mit <kbd>Ctrl</kbd>+<kbd>Enter</kbd> (Mac: <kbd>⌘</kbd>+<kbd>Enter</kbd>)</span>
      </div>

      <div class="info-right">
        <div class="badges">
          <span id="autoBadge" class="badge">Auto: —</span>
          <span id="led" class="led idle" title="Status"></span>
          <span id="status" class="status">bereit</span>
        </div>

        <div class="examples">
          <label class="label" for="examples">Beispiele</label>
          <select id="examples" class="select">
            <option value="snippet_print">Snippet: println(name)</option>
            <option value="snippet_if">Snippet: if/else</option>
            <option value="class_simple">Class: einfache Methode</option>
            <option value="class_hello">Class: HelloWorld</option>
            <option value="class_trycatch">Class: try/catch</option>
          </select>
          <button id="loadExample" class="btn small" type="button">Laden</button>
          <button id="reset" class="btn small ghost" type="button">Reset</button>
        </div>
      </div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

  <script src="app.js?v=responsive-ui-2"></script>
</body>
</html>
